{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\18125\\\\Desktop\\\\travel-buddy\\\\travel-app\\\\src\\\\components\\\\Timer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport SearchList from './SearchList';\nimport APIService from './APIService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Timer = props => {\n  _s();\n  const Ref = useRef(null);\n  const [timer, setTimer] = useState('00:00:00');\n  const getTimeRemaining = e => {\n    const total = Date.parse(e) - Date.parse(new Date());\n    const seconds = Math.floor(total / 1000 % 60);\n    const minutes = Math.floor(total / 1000 / 60 % 60);\n    const hours = Math.floor(total / 1000 / 60 / 60 % 24);\n    return {\n      total,\n      hours,\n      minutes,\n      seconds\n    };\n  };\n  const startTimer = e => {\n    let {\n      total,\n      hours,\n      minutes,\n      seconds\n    } = getTimeRemaining(e);\n    if (total >= 0) {\n      setTimer((hours > 9 ? hours : '0' + hours) + ':' + (minutes > 9 ? minutes : '0' + minutes) + ':' + (seconds > 9 ? seconds : '0' + seconds));\n    }\n  };\n  const clearTimer = e => {\n    setTimer('00:00:10');\n    if (Ref.current) clearInterval(Ref.current);\n    const id = setInterval(() => {\n      startTimer(e);\n    }, 1000);\n    Ref.current = id;\n  };\n  const getDeadTime = () => {\n    let deadline = new Date();\n    deadline.setSeconds(deadline.getSeconds() + 20);\n    return deadline;\n  };\n  useEffect(() => {\n    clearTimer(getDeadTime());\n  }, []);\n  const onClickReset = () => {\n    clearTimer(getDeadTime());\n  };\n  function clearmqtt() {\n    APIService.clearmqtt();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: timer === '00:00:00' ? /*#__PURE__*/_jsxDEV(\"body\", {\n      onLoad: clearmqtt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading trips at your location....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SearchList, {\n        loctrips: props.loctrips,\n        timer: timer,\n        onClickReset: onClickReset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 3\n  }, this);\n};\n_s(Timer, \"HPeaHJ9UVwlp0EkypzcTPI/d1Lw=\");\n_c = Timer;\nexport default Timer;\nvar _c;\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","SearchList","APIService","jsxDEV","_jsxDEV","Timer","props","_s","Ref","timer","setTimer","getTimeRemaining","e","total","Date","parse","seconds","Math","floor","minutes","hours","startTimer","clearTimer","current","clearInterval","id","setInterval","getDeadTime","deadline","setSeconds","getSeconds","onClickReset","clearmqtt","children","onLoad","fileName","_jsxFileName","lineNumber","columnNumber","className","loctrips","_c","$RefreshReg$"],"sources":["C:/Users/18125/Desktop/travel-buddy/travel-app/src/components/Timer.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport SearchList from './SearchList';\r\nimport APIService from './APIService';\r\n\r\nconst Timer = (props) => {\r\n\r\n\tconst Ref = useRef(null);\r\n\r\n\tconst [timer, setTimer] = useState('00:00:00');\r\n\r\n\r\n\tconst getTimeRemaining = (e) => {\r\n\t\tconst total = Date.parse(e) - Date.parse(new Date());\r\n\t\tconst seconds = Math.floor((total / 1000) % 60);\r\n\t\tconst minutes = Math.floor((total / 1000 / 60) % 60);\r\n\t\tconst hours = Math.floor((total / 1000 / 60 / 60) % 24);\r\n\t\treturn {\r\n\t\t\ttotal, hours, minutes, seconds\r\n\t\t};\r\n\t}\r\n\r\n\tconst startTimer = (e) => {\r\n\t\tlet { total, hours, minutes, seconds }\r\n\t\t\t\t\t= getTimeRemaining(e);\r\n\t\tif (total >= 0) {\r\n\t\t\tsetTimer(\r\n\t\t\t\t(hours > 9 ? hours : '0' + hours) + ':' +\r\n\t\t\t\t(minutes > 9 ? minutes : '0' + minutes) + ':'\r\n\t\t\t\t+ (seconds > 9 ? seconds : '0' + seconds)\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tconst clearTimer = (e) => {\r\n\r\n\t\tsetTimer('00:00:10');\r\n\t\tif (Ref.current) clearInterval(Ref.current);\r\n\t\tconst id = setInterval(() => {\r\n\t\t\tstartTimer(e);\r\n\t\t}, 1000)\r\n\t\tRef.current = id;\r\n\t}\r\n\r\n\tconst getDeadTime = () => {\r\n\t\tlet deadline = new Date();\r\n\t\tdeadline.setSeconds(deadline.getSeconds() + 20);\r\n\t\treturn deadline;\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tclearTimer(getDeadTime());\r\n\t}, []);\r\n\r\n\tconst onClickReset = () => {\r\n\t\tclearTimer(getDeadTime());\r\n\t}\r\n\r\n    function clearmqtt(){\r\n        APIService.clearmqtt()\r\n    }\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n            {timer==='00:00:00'?<body onLoad={clearmqtt}/>:\r\n            <div>\r\n            <div className='loading'>Loading trips at your location....</div>\r\n            <SearchList loctrips={props.loctrips} timer={timer} onClickReset={onClickReset}></SearchList>\r\n            </div>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Timer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}