{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./trips.css';import TripList from'./TripList';import Form from'./Form';import SearchTrip from'./SearchTrip';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Trips(){const[trips,setTrips]=useState([]);const[location,setLocation]=useState([]);const[update,setUpdateTrip]=useState(null);const[tripsearch,setSearch]=useState(false);const[addform,setAddForm]=useState(\"true\");useEffect(()=>{fetch('https://travel-buddies-backend.onrender.com/get',{'methods':'GET',headers:{'content-Type':'applications/json'}}).then(resp=>resp.json()).then(resp=>setTrips(resp)).catch(error=>console.log(error));},[]);useEffect(()=>{fetch('https://travel-buddies-backend.onrender.com/curr_location',{'methods':'GET',headers:{'content-Type':'applications/json'}}).then(resp=>resp.json()).then(resp=>setLocation(resp)).catch(error=>console.log(error));},[]);function updateTrip(trip){setUpdateTrip(trip);}function updateData(trip){const new_trips=trips.map(my_trip=>{if(my_trip.id===trip.id){return trip;}else{return my_trip;}});setUpdateTrip(new_trips);}function openForm(){setUpdateTrip({firstname:'',lastname:'',source:'',destination:''});}function insertedTrip(trip){const new_trip=[...trips,trip];setTrips(new_trip);}function deleteTrip(trip){const new_trips=trips.filter(mytrip=>{if(mytrip.id===trip.id){return false;}return true;});setTrips(new_trips);}function search(){setSearch(true);}function addFalse(){setAddForm(false);}function addTrue(){setAddForm(true);}function openForm_addTrue(){addTrue();openForm();}return/*#__PURE__*/_jsxs(\"div\",{className:\"trip\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"theader\",children:\"Trips Created by you\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"location\",children:[/*#__PURE__*/_jsxs(\"mark\",{children:[\"Your current location is: \",location.curr]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:openForm_addTrue,children:\"Add Trip\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:search,children:\"Search Trip\"})})]})]}),tripsearch?/*#__PURE__*/_jsx(SearchTrip,{}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TripList,{trips:trips,updateTrip:updateTrip,deleteTrip:deleteTrip}),update?/*#__PURE__*/_jsx(Form,{trips:update,updateData:updateData,insertedTrip:insertedTrip,addFalse:addFalse,addform:addform}):null]})]});}","map":{"version":3,"names":["React","useState","useEffect","TripList","Form","SearchTrip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Trips","trips","setTrips","location","setLocation","update","setUpdateTrip","tripsearch","setSearch","addform","setAddForm","fetch","headers","then","resp","json","catch","error","console","log","updateTrip","trip","updateData","new_trips","map","my_trip","id","openForm","firstname","lastname","source","destination","insertedTrip","new_trip","deleteTrip","filter","mytrip","search","addFalse","addTrue","openForm_addTrue","className","children","curr","onClick"],"sources":["C:/Users/18125/Desktop/travel-buddy/travel-app/src/components/Trips.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport './trips.css'\r\nimport TripList from './TripList';\r\nimport Form from './Form';\r\nimport SearchTrip from './SearchTrip';\r\n\r\nexport default function Trips(){\r\n    const [trips, setTrips]= useState([]);\r\n    const [location, setLocation] = useState([]);\r\n    const [update, setUpdateTrip] = useState(null);\r\n    const [tripsearch, setSearch] = useState(false);\r\n\r\n    const [addform, setAddForm] = useState(\"true\");\r\n    \r\n\r\n    useEffect(() => {\r\n        fetch('https://travel-buddies-backend.onrender.com/get', {\r\n            'methods': 'GET',\r\n            headers: {\r\n                'content-Type': 'applications/json'\r\n            }\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(resp => setTrips(resp))\r\n        .catch(error => console.log(error))\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        fetch('https://travel-buddies-backend.onrender.com/curr_location', {\r\n            'methods': 'GET',\r\n            headers: {\r\n                'content-Type': 'applications/json'\r\n            }\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(resp => setLocation(resp))\r\n        .catch(error => console.log(error))\r\n    },[])\r\n    \r\n    function updateTrip(trip){\r\n        setUpdateTrip(trip)\r\n    }\r\n\r\n    function updateData(trip){\r\n        const new_trips = trips.map(my_trip => {\r\n                if(my_trip.id === trip.id){\r\n                    return trip\r\n                }\r\n                else{\r\n                    return my_trip\r\n                }\r\n        })\r\n        setUpdateTrip(new_trips)\r\n    }\r\n\r\n    function openForm(){\r\n        setUpdateTrip({firstname:'', lastname:'', source:'', destination:''})\r\n    }\r\n\r\n    function insertedTrip(trip){\r\n        const new_trip = [...trips, trip]\r\n        setTrips(new_trip)\r\n    }\r\n\r\n    function deleteTrip(trip){\r\n        const new_trips = trips.filter(mytrip => {\r\n            if (mytrip.id === trip.id){\r\n                return false\r\n            }\r\n            return true\r\n        })\r\n        setTrips(new_trips)\r\n    }\r\n\r\n    function search(){\r\n        setSearch(true)\r\n    }\r\n\r\n    function addFalse(){\r\n        setAddForm(false)\r\n    }\r\n\r\n    function addTrue(){\r\n        setAddForm(true)\r\n    }\r\n\r\n    function openForm_addTrue(){\r\n        addTrue();\r\n        openForm();\r\n    }\r\n\r\n    return(\r\n        <div className='trip'>\r\n            <div className='theader'>Trips Created by you</div>\r\n            <div className='location'><mark>Your current location is: {location.curr}</mark><br/>\r\n            <div className='col'>\r\n                <div className='btn'><button className='btn btn-success' onClick={openForm_addTrue}>Add Trip</button></div>\r\n                <div className='btn'><button className='btn btn-primary' onClick={search}>Search Trip</button></div>\r\n            </div>\r\n            </div>\r\n            {tripsearch? <SearchTrip/>:<></>}\r\n            <div>\r\n                <TripList trips={trips} updateTrip={updateTrip} deleteTrip={deleteTrip}/>\r\n                {update?<Form trips={update} updateData={updateData} insertedTrip={insertedTrip} addFalse={addFalse} addform={addform}/>:null}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,MAAO,aAAa,CACpB,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtC,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAE,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAEb,QAAQ,CAAC,EAAE,CAAC,CACrC,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,MAAM,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACkB,UAAU,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,MAAM,CAAC,CAG9CC,SAAS,CAAC,IAAM,CACZqB,KAAK,CAAC,iDAAiD,CAAE,CACrD,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,CACL,cAAc,CAAE,mBACpB,CACJ,CAAC,CAAC,CACDC,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAACC,IAAI,EAAIZ,QAAQ,CAACY,IAAI,CAAC,CAAC,CAC5BE,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CACvC,CAAC,CAAC,EAAE,CAAC,CAEL3B,SAAS,CAAC,IAAM,CACZqB,KAAK,CAAC,2DAA2D,CAAE,CAC/D,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,CACL,cAAc,CAAE,mBACpB,CACJ,CAAC,CAAC,CACDC,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAACC,IAAI,EAAIV,WAAW,CAACU,IAAI,CAAC,CAAC,CAC/BE,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CACvC,CAAC,CAAC,EAAE,CAAC,CAEL,QAAS,CAAAG,UAAUA,CAACC,IAAI,CAAC,CACrBf,aAAa,CAACe,IAAI,CAAC,CACvB,CAEA,QAAS,CAAAC,UAAUA,CAACD,IAAI,CAAC,CACrB,KAAM,CAAAE,SAAS,CAAGtB,KAAK,CAACuB,GAAG,CAACC,OAAO,EAAI,CAC/B,GAAGA,OAAO,CAACC,EAAE,GAAKL,IAAI,CAACK,EAAE,CAAC,CACtB,MAAO,CAAAL,IAAI,CACf,CAAC,IACG,CACA,MAAO,CAAAI,OAAO,CAClB,CACR,CAAC,CAAC,CACFnB,aAAa,CAACiB,SAAS,CAAC,CAC5B,CAEA,QAAS,CAAAI,QAAQA,CAAA,CAAE,CACfrB,aAAa,CAAC,CAACsB,SAAS,CAAC,EAAE,CAAEC,QAAQ,CAAC,EAAE,CAAEC,MAAM,CAAC,EAAE,CAAEC,WAAW,CAAC,EAAE,CAAC,CAAC,CACzE,CAEA,QAAS,CAAAC,YAAYA,CAACX,IAAI,CAAC,CACvB,KAAM,CAAAY,QAAQ,CAAG,CAAC,GAAGhC,KAAK,CAAEoB,IAAI,CAAC,CACjCnB,QAAQ,CAAC+B,QAAQ,CAAC,CACtB,CAEA,QAAS,CAAAC,UAAUA,CAACb,IAAI,CAAC,CACrB,KAAM,CAAAE,SAAS,CAAGtB,KAAK,CAACkC,MAAM,CAACC,MAAM,EAAI,CACrC,GAAIA,MAAM,CAACV,EAAE,GAAKL,IAAI,CAACK,EAAE,CAAC,CACtB,MAAO,MAAK,CAChB,CACA,MAAO,KAAI,CACf,CAAC,CAAC,CACFxB,QAAQ,CAACqB,SAAS,CAAC,CACvB,CAEA,QAAS,CAAAc,MAAMA,CAAA,CAAE,CACb7B,SAAS,CAAC,IAAI,CAAC,CACnB,CAEA,QAAS,CAAA8B,QAAQA,CAAA,CAAE,CACf5B,UAAU,CAAC,KAAK,CAAC,CACrB,CAEA,QAAS,CAAA6B,OAAOA,CAAA,CAAE,CACd7B,UAAU,CAAC,IAAI,CAAC,CACpB,CAEA,QAAS,CAAA8B,gBAAgBA,CAAA,CAAE,CACvBD,OAAO,CAAC,CAAC,CACTZ,QAAQ,CAAC,CAAC,CACd,CAEA,mBACI9B,KAAA,QAAK4C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjB/C,IAAA,QAAK8C,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,sBAAoB,CAAK,CAAC,cACnD7C,KAAA,QAAK4C,SAAS,CAAC,UAAU,CAAAC,QAAA,eAAC7C,KAAA,SAAA6C,QAAA,EAAM,4BAA0B,CAACvC,QAAQ,CAACwC,IAAI,EAAO,CAAC,cAAAhD,IAAA,QAAI,CAAC,cACrFE,KAAA,QAAK4C,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChB/C,IAAA,QAAK8C,SAAS,CAAC,KAAK,CAAAC,QAAA,cAAC/C,IAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACG,OAAO,CAAEJ,gBAAiB,CAAAE,QAAA,CAAC,UAAQ,CAAQ,CAAC,CAAK,CAAC,cAC3G/C,IAAA,QAAK8C,SAAS,CAAC,KAAK,CAAAC,QAAA,cAAC/C,IAAA,WAAQ8C,SAAS,CAAC,iBAAiB,CAACG,OAAO,CAAEP,MAAO,CAAAK,QAAA,CAAC,aAAW,CAAQ,CAAC,CAAK,CAAC,EACnG,CAAC,EACD,CAAC,CACLnC,UAAU,cAAEZ,IAAA,CAACF,UAAU,GAAC,CAAC,cAACE,IAAA,CAAAI,SAAA,GAAI,CAAC,cAChCF,KAAA,QAAA6C,QAAA,eACI/C,IAAA,CAACJ,QAAQ,EAACU,KAAK,CAAEA,KAAM,CAACmB,UAAU,CAAEA,UAAW,CAACc,UAAU,CAAEA,UAAW,CAAC,CAAC,CACxE7B,MAAM,cAACV,IAAA,CAACH,IAAI,EAACS,KAAK,CAAEI,MAAO,CAACiB,UAAU,CAAEA,UAAW,CAACU,YAAY,CAAEA,YAAa,CAACM,QAAQ,CAAEA,QAAS,CAAC7B,OAAO,CAAEA,OAAQ,CAAC,CAAC,CAAC,IAAI,EAC5H,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}